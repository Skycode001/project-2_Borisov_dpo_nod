# Project #2: Primitive Database

–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Python.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.8+
- Poetry –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- Git –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
- Ruff –¥–ª—è –ª–∏–Ω—Ç–∏–Ω–≥–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- PrettyTable –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Ç–∞–±–ª–∏—Ü

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/Skycode001/project-2_Borisov_dpo_nod.git
cd project-2_Borisov_dpo_nod

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make install
source .venv/bin/activate

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ Poetry
poetry install
```

## –ó–∞–ø—É—Å–∫
```bash
# –ß–µ—Ä–µ–∑ Makefile
make project

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Python
python3 -m src.primitive_db.main

# –ò–ª–∏ —á–µ—Ä–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–∞–∫–µ—Ç (–ø–æ—Å–ª–µ poetry install)
poetry run project
poetry run database
```
## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- int - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞
- str - —Å—Ç—Ä–æ–∫–∏
- bool - –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (True/False)

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏
# –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- create_table <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> <—Å—Ç–æ–ª–±–µ—Ü1:—Ç–∏–ø> ... - "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É"
- list_tables - "–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü"
- drop_table <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> - "–£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É"
- help - "–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º"
- exit - "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã"
# CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏
- insert into <—Ç–∞–±–ª–∏—Ü–∞> values (–∑–Ω–∞—á–µ–Ω–∏–µ1, ...) - "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å"
- select from <—Ç–∞–±–ª–∏—Ü–∞> - "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏"
- select from <—Ç–∞–±–ª–∏—Ü–∞> where <—É—Å–ª–æ–≤–∏–µ> - "–ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ —É—Å–ª–æ–≤–∏—é"
- update <—Ç–∞–±–ª–∏—Ü–∞> set <—Å—Ç–æ–ª–±–µ—Ü>=<–∑–Ω–∞—á–µ–Ω–∏–µ> where <—É—Å–ª–æ–≤–∏–µ> - "–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å"
- delete from <—Ç–∞–±–ª–∏—Ü–∞> where <—É—Å–ª–æ–≤–∏–µ> - "–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å"
- info <—Ç–∞–±–ª–∏—Ü–∞> - "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞–±–ª–∏—Ü–µ"

## –ü—Ä–∏–º–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞, –∑–∞–ø—É—Å–∫–∞ –ë–î, —Å–æ–∑–¥–∞–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã.
[![asciicast](https://asciinema.org/a/V5zQckptHgseXK34PCa3dWAP3.svg)](https://asciinema.org/a/V5zQckptHgseXK34PCa3dWAP3)

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π
[![asciicast](https://asciinema.org/a/obZUiqp8ggPa8CmxAg0pwJsTi.svg)](https://asciinema.org/a/obZUiqp8ggPa8CmxAg0pwJsTi)

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

#### üîß –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (`handle_db_errors`)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:
- `FileNotFoundError` - —Ñ–∞–π–ª –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω
- `KeyError` - —Ç–∞–±–ª–∏—Ü–∞ –∏–ª–∏ —Å—Ç–æ–ª–±–µ—Ü –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `ValueError` - –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

#### ‚ö†Ô∏è –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π (`confirm_action`)
–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
```bash
>>> drop_table users
–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å "—É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã"? [y/n]: n
–û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞.
```

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è c –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏–π.
[![asciicast](https://asciinema.org/a/yVaIQCjaavvZfIsMrMNIriTOb.svg)](https://asciinema.org/a/yVaIQCjaavvZfIsMrMNIriTOb)

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
$ make project

***–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö***
–§—É–Ω–∫—Ü–∏–∏:
<command> create_table <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> <—Å—Ç–æ–ª–±–µ—Ü1:—Ç–∏–ø> <—Å—Ç–æ–ª–±–µ—Ü2:—Ç–∏–ø> .. - —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
<command> list_tables - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
<command> drop_table <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> - —É–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É
<command> exit - –≤—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã
<command> help - —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

>>>–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: create_table users name:str age:int is_active:bool
–¢–∞–±–ª–∏—Ü–∞ "users" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏: ID:int, name:str, age:int, is_active:bool

>>>–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: list_tables
+----------+---------------------------------------------------+
| –¢–∞–±–ª–∏—Ü–∞  | –°—Ç–æ–ª–±—Ü—ã                                           |
+----------+---------------------------------------------------+
| users    | ID:int, name:str, age:int, is_active:bool        |
+----------+---------------------------------------------------+

>>>–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: create_table products title:str price:int
–¢–∞–±–ª–∏—Ü–∞ "products" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏: ID:int, title:str, price:int

>>>–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: list_tables
+-----------+-----------------------------------------------+
| –¢–∞–±–ª–∏—Ü–∞   | –°—Ç–æ–ª–±—Ü—ã                                       |
+-----------+-----------------------------------------------+
| users     | ID:int, name:str, age:int, is_active:bool    |
| products  | ID:int, title:str, price:int                 |
+-----------+-----------------------------------------------+

>>>–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: drop_table users
–¢–∞–±–ª–∏—Ü–∞ "users" —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞.

>>>–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: list_tables
+-----------+---------------------------------------+
| –¢–∞–±–ª–∏—Ü–∞   | –°—Ç–æ–ª–±—Ü—ã                               |
+-----------+---------------------------------------+
| products  | ID:int, title:str, price:int         |
+-----------+---------------------------------------+

>>>–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: exit
–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã...
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–æ–ª–±–µ—Ü ID: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ª—é–±–æ–π —Ç–∞–±–ª–∏—Ü—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—Ç–æ–ª–±–µ—Ü ID:int –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞.
- –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞–±–ª–∏—Ü–∞—Ö —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ db_meta.json –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ: –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö, —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω —Ç–∞–±–ª–∏—Ü.

## –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
make lint

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
make format

# –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
make lint-fix

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
make clean

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
make help
```